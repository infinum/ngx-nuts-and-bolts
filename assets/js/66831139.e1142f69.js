"use strict";(self.webpackChunkngx_nuts_and_bolts_docs=self.webpackChunkngx_nuts_and_bolts_docs||[]).push([[310],{3905:function(e,t,n){n.d(t,{Zo:function(){return u},kt:function(){return f}});var r=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var c=r.createContext({}),l=function(e){var t=r.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},u=function(e){var t=l(e.components);return r.createElement(c.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},d=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,c=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),d=l(n),f=a,m=d["".concat(c,".").concat(f)]||d[f]||p[f]||o;return n?r.createElement(m,i(i({ref:t},u),{},{components:n})):r.createElement(m,i({ref:t},u))}));function f(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,i=new Array(o);i[0]=d;var s={};for(var c in t)hasOwnProperty.call(t,c)&&(s[c]=t[c]);s.originalType=e,s.mdxType="string"==typeof e?e:a,i[1]=s;for(var l=2;l<o;l++)i[l]=n[l];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}d.displayName="MDXCreateElement"},4830:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return s},contentTitle:function(){return c},metadata:function(){return l},toc:function(){return u},default:function(){return d}});var r=n(7462),a=n(3366),o=(n(7294),n(3905)),i=["components"],s={id:"async-data",title:"Async data",sidebar_label:"Async data"},c=void 0,l={unversionedId:"testing/async-data",id:"testing/async-data",title:"Async data",description:"If and when returning mocked data from the testing service, users should avoid doing something like this:",source:"@site/docs/testing/async-data.md",sourceDirName:"testing",slug:"/testing/async-data",permalink:"/ngx-nuts-and-bolts/docs/testing/async-data",tags:[],version:"current",frontMatter:{id:"async-data",title:"Async data",sidebar_label:"Async data"},sidebar:"mainSidebar",previous:{title:"Extract public",permalink:"/ngx-nuts-and-bolts/docs/testing/extract-public"},next:{title:"EnumProperty pipe",permalink:"/ngx-nuts-and-bolts/docs/pipes/enum-property"}},u=[{value:"1. Usage",id:"1-usage",children:[],level:2}],p={toc:u};function d(e){var t=e.components,n=(0,a.Z)(e,i);return(0,o.kt)("wrapper",(0,r.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"If and when returning mocked data from the testing service, users should avoid doing something like this:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"public getData(data: TData): Observable<TData>{\n    return of(data);\n}\n")),(0,o.kt)("p",null,"The example above creates an observable from the data but it ",(0,o.kt)("a",{parentName:"p",href:"https://stackblitz.com/edit/rxjs-hx8yos?devtoolsheight=60"},"returns it synchronously"),". This isn't how services that make API calls behave in real world applications.\nThe purpose of creating test doubles for services is to mock the behavior of real world services as closely as possible. With that in mind, it is a good idea to fake the async behavior of such services. This can can be achieved in multiple ways.\nThis specific implementation uses ",(0,o.kt)("inlineCode",{parentName:"p"},"observeOn")," operator with ",(0,o.kt)("inlineCode",{parentName:"p"},"asyncScheduler"),", creating a new macrotask that places the observable in the event loop queue."),(0,o.kt)("h2",{id:"1-usage"},"1. Usage"),(0,o.kt)("p",null,"When returning the mock data in test doubles, simply wrap the data using ",(0,o.kt)("inlineCode",{parentName:"p"},"asyncData")," function and the data will be returned asynchronously."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"public getTestingData(data: TData): Observable<TData>{\n    return asyncData(data);\n}\n")))}d.isMDXComponent=!0}}]);