"use strict";(self.webpackChunkngx_nuts_and_bolts_docs=self.webpackChunkngx_nuts_and_bolts_docs||[]).push([[270],{3905:function(e,t,n){n.d(t,{Zo:function(){return l},kt:function(){return d}});var r=n(7294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var c=r.createContext({}),u=function(e){var t=r.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},l=function(e){var t=u(e.components);return r.createElement(c.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},f=r.forwardRef((function(e,t){var n=e.components,o=e.mdxType,a=e.originalType,c=e.parentName,l=s(e,["components","mdxType","originalType","parentName"]),f=u(n),d=o,g=f["".concat(c,".").concat(d)]||f[d]||p[d]||a;return n?r.createElement(g,i(i({ref:t},l),{},{components:n})):r.createElement(g,i({ref:t},l))}));function d(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var a=n.length,i=new Array(a);i[0]=f;var s={};for(var c in t)hasOwnProperty.call(t,c)&&(s[c]=t[c]);s.originalType=e,s.mdxType="string"==typeof e?e:o,i[1]=s;for(var u=2;u<a;u++)i[u]=n[u];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}f.displayName="MDXCreateElement"},9265:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return s},contentTitle:function(){return c},metadata:function(){return u},toc:function(){return l},default:function(){return f}});var r=n(7462),o=n(3366),a=(n(7294),n(3905)),i=["components"],s={id:"mock-storage",title:"Mock storage",sidebar_label:"Mock storage"},c=void 0,u={unversionedId:"testing-utils/mock-storage",id:"testing-utils/mock-storage",title:"Mock storage",description:"When you need to interact with storage but still you are testing only a unit of the code, you can use MockStorage class for this purpose. Mocked version doesn't take into account stuff like size limits and other things taken care by window.localstorage API and just focuses on core functionality.",source:"@site/docs/testing-utils/mock-storage.md",sourceDirName:"testing-utils",slug:"/testing-utils/mock-storage",permalink:"/ngx-nuts-and-bolts/docs/testing-utils/mock-storage",tags:[],version:"current",frontMatter:{id:"mock-storage",title:"Mock storage",sidebar_label:"Mock storage"},sidebar:"mainSidebar",previous:{title:"Async error",permalink:"/ngx-nuts-and-bolts/docs/testing-utils/async-error"}},l=[{value:"1. Usage",id:"1-usage",children:[],level:2}],p={toc:l};function f(e){var t=e.components,n=(0,o.Z)(e,i);return(0,a.kt)("wrapper",(0,r.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"When you need to interact with storage but still you are testing only a unit of the code, you can use ",(0,a.kt)("inlineCode",{parentName:"p"},"MockStorage")," class for this purpose. Mocked version doesn't take into account stuff like size limits and other things taken care by ",(0,a.kt)("inlineCode",{parentName:"p"},"window.localstorage API")," and just focuses on core functionality."),(0,a.kt)("h2",{id:"1-usage"},"1. Usage"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ts"},"let storage: Storage;\n\nbeforeEach(async () => {\n    await TestBed.configureTestingModule({\n        providers: [\n            {\n                provide: LOCAL_STORAGE,\n                useClass: MockStorage,\n            },\n            {\n                provide: SESSION_STORAGE,\n                useClass: MockStorage,\n            },\n        ],\n    });\n    storage = TestBed.inject(Storage);\n});\n")))}f.isMDXComponent=!0}}]);